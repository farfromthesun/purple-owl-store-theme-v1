{"version":3,"file":"custom.v1.js","mappings":"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","sources":["webpack://purple-owl-store-shopify-theme-v1/./src/styles/main.scss","webpack://purple-owl-store-shopify-theme-v1/webpack/bootstrap","webpack://purple-owl-store-shopify-theme-v1/webpack/runtime/make namespace object","webpack://purple-owl-store-shopify-theme-v1/./src/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import \"./styles/main.scss\";\r\n\r\n(\"use strict\");\r\n\r\nconst _body = document.querySelector(\"body\");\r\nconst _mainHeader = document.querySelector(\".main-header\");\r\nconst bodyWidth = _body.offsetWidth;\r\nconst mainHeaderheight = _mainHeader.offsetHeight;\r\nconst _selectSortBy = document.querySelector(\"#sort-by-select\");\r\n\r\nfunction toggleMobileNav(button, action) {\r\n  document.querySelector(button).addEventListener(\"click\", function (e) {\r\n    e.preventDefault();\r\n\r\n    switch (action) {\r\n      case \"add\":\r\n        document.querySelector(\".nav-mobile-container\").classList.add(\"show\");\r\n        break;\r\n      case \"remove\":\r\n        document\r\n          .querySelector(\".nav-mobile-container\")\r\n          .classList.remove(\"show\");\r\n        break;\r\n    }\r\n  });\r\n}\r\n\r\nfunction addBodyScrolled() {\r\n  if (window.scrollY > _body.offsetTop + mainHeaderheight) {\r\n    _body.classList.add(\"scrolled\");\r\n  } else {\r\n    _body.classList.remove(\"scrolled\");\r\n  }\r\n}\r\n\r\nfunction bodyPaddingTop() {\r\n  _body.style.paddingTop = mainHeaderheight + \"px\";\r\n}\r\n\r\nfunction indexHeroHeight() {\r\n  if (bodyWidth > 1200 && _body.dataset.template.includes(\"index\")) {\r\n    document.querySelector(\".index-hero .hero-inner\").style.height =\r\n      \"calc(100vh - \" + mainHeaderheight + \"px)\";\r\n  }\r\n}\r\n\r\n// LEGACY FUNCTION THAT WORKS, BUT IS WAY UGLIER AND MESSIER THAN THE ONE CURRENTLY IN USE\r\n// function sortProducts() {\r\n//   if (_selectSortBy) {\r\n//     Shopify.queryParamsArray = [];\r\n//     let sortByFlag = false;\r\n\r\n//     // if any parameters are already provided - preserve them\r\n//     if (location.search.length) {\r\n//       const existingParamsArray = location.search.substring(1).split(\"&\");\r\n\r\n//       for (let i = 0; i < existingParamsArray.length; i++) {\r\n//         const existingParamKeyAndValueArray = existingParamsArray[i].split(\"=\");\r\n\r\n//         Shopify.queryParamsArray[i] = [\r\n//           existingParamKeyAndValueArray[0] + \"=\",\r\n//           existingParamKeyAndValueArray[1] +\r\n//             `${i < existingParamsArray.length - 1 ? \"&\" : \"\"}`,\r\n//         ];\r\n//       }\r\n//     }\r\n\r\n//     _selectSortBy.addEventListener(\"change\", function (e) {\r\n//       // Shopify.queryParams.sort_by = e.target.value;\r\n\r\n//       if (Shopify.queryParamsArray.length > 0) {\r\n//         for (let i = 0; i < Shopify.queryParamsArray.length; i++) {\r\n//           if (Shopify.queryParamsArray[i][0].includes(\"sort_by\")) {\r\n//             Shopify.queryParamsArray[i][1] =\r\n//               e.target.value +\r\n//               `${i < Shopify.queryParamsArray.length - 1 ? \"&\" : \"\"}`;\r\n//             sortByFlag = true;\r\n//           }\r\n//         }\r\n//         if (sortByFlag === true) {\r\n//           location.search = new URLSearchParams(\r\n//             Shopify.queryParamsArray.toString().replaceAll(\",\", \"\")\r\n//           );\r\n//         } else {\r\n//           location.search = new URLSearchParams(\r\n//             \"sort_by=\" +\r\n//               e.target.value +\r\n//               \"&\" +\r\n//               Shopify.queryParamsArray.toString().replaceAll(\",\", \"\")\r\n//           );\r\n//         }\r\n//       } else {\r\n//         location.search = new URLSearchParams(\"sort_by=\" + e.target.value);\r\n//       }\r\n//     });\r\n//   }\r\n// }\r\n\r\nasync function fetchShopifySection(url) {\r\n  const response = await fetch(url);\r\n  const responseJson = await response.json();\r\n  return responseJson;\r\n}\r\n\r\nasync function sortFilterRenderSections(searchParams) {\r\n  searchParams === undefined\r\n    ? (searchParams = \"\")\r\n    : (searchParams = \"&\" + searchParams);\r\n  // const sectionsIds = [\"collection-filters\", \"products-grid-container\"];\r\n  const sectionsToRender = [\r\n    {\r\n      id: \"collection-filters\",\r\n      shopifyId: \"\",\r\n      elementsToRender:\r\n        \".sort-by-container,.collection-filters-results-counter,.collection-active-filters\",\r\n    },\r\n    {\r\n      id: \"products-grid-container\",\r\n      shopifyId: \"\",\r\n      elementsToRender: \".products-grid-container\",\r\n    },\r\n  ];\r\n  const sectionsShopifyIds = [];\r\n  for (const section of sectionsToRender) {\r\n    section.shopifyId = document.getElementById(section.id).dataset.sectionId;\r\n    sectionsShopifyIds.push(section.shopifyId);\r\n  }\r\n  const url = `${window.location.pathname}?sections=${sectionsShopifyIds}${searchParams}`;\r\n  const htmlToRenderObject = await fetchShopifySection(url);\r\n\r\n  for (const section of sectionsToRender) {\r\n    const sectionHtml = new DOMParser().parseFromString(\r\n      htmlToRenderObject[section.shopifyId],\r\n      \"text/html\"\r\n    );\r\n    for (const element of section.elementsToRender.split(\",\")) {\r\n      document.querySelector(element).innerHTML =\r\n        sectionHtml.querySelector(element).innerHTML;\r\n    }\r\n  }\r\n\r\n  // loading\r\n}\r\n\r\nfunction sortFilterFormHandler(e, form) {\r\n  // const clickedElement = e.target;\r\n  const formData = new FormData(form);\r\n  const formSearchParams = new URLSearchParams(formData).toString();\r\n\r\n  sortFilterRenderSections(formSearchParams);\r\n}\r\n\r\n//////////////////////////////////////////////////////////////\r\n\r\nasync function renderShopifySections(sections, urlParams) {\r\n  const sectionsIds = sections.split(\",\");\r\n  let shopifySectionsIdsArray = [];\r\n  for (const sectionId of sectionsIds) {\r\n    shopifySectionsIdsArray.push(\r\n      document.getElementById(sectionId).dataset.sectionid\r\n    );\r\n  }\r\n  const shopifySectionsIds = shopifySectionsIdsArray.join();\r\n  urlParams === undefined ? (urlParams = \"\") : (urlParams = \"&\" + urlParams);\r\n  const url = `${window.location.pathname}?sections=${shopifySectionsIds}${urlParams}`;\r\n\r\n  const fetchResponse = await fetchShopifySection(url);\r\n  for (const [key, value] of Object.entries(fetchResponse)) {\r\n    // console.log(\" ###\\n\\n\\n\\n \" + value);\r\n    const sectionHtmlToRender = new DOMParser()\r\n      .parseFromString(value, \"text/html\")\r\n      .getElementById(\"shopify-section-\" + key).innerHTML;\r\n    document.getElementById(\"shopify-section-\" + key).innerHTML =\r\n      sectionHtmlToRender;\r\n    // console.log(sectionHtmlToRender);\r\n  }\r\n}\r\n\r\nfunction collectionFiltersFormHandler(e) {\r\n  const _form = e.target;\r\n  const formData = new FormData(_form);\r\n  const formSearchParams = new URLSearchParams(formData).toString();\r\n  const currentSortValue = \"sort_by=\" + _selectSortBy.value;\r\n  // const newSearchParams = new URLSearchParams(currentSortValue + \"&\" + formSearchParams);\r\n  const newSearchParams = currentSortValue + \"&\" + formSearchParams;\r\n\r\n  renderShopifySections(\r\n    \"main-collection-products,collection-filters\",\r\n    newSearchParams\r\n  );\r\n}\r\n\r\nfunction collectionSortProductsHandler(e) {\r\n  const newSortValue = e.target.value;\r\n  const existingParams = new URLSearchParams(location.search);\r\n  const newParams = [];\r\n\r\n  if (location.search) {\r\n    for (let param of existingParams) {\r\n      let paramKey = param[0];\r\n      let paramValue = param[1];\r\n      paramKey !== \"sort_by\" && newParams.push(paramKey + \"=\" + paramValue);\r\n    }\r\n    newParams.unshift(\"sort_by=\" + newSortValue);\r\n    location.search = new URLSearchParams(newParams.join(\"&\"));\r\n  } else {\r\n    location.search = new URLSearchParams(\"sort_by=\" + e.target.value);\r\n  }\r\n}\r\n\r\nfunction sortFilterHandler(e) {\r\n  const _this = e.target;\r\n  const filtersForm = document.querySelector(\".filter-by-form\");\r\n  const filtersData = new FormData(filtersForm);\r\n  const sortData = document.querySelector(\".sort-by-select\").value;\r\n  const filtersSearchParams = new URLSearchParams(filtersData).toString();\r\n  const sortSearchParams = \"sort_by=\" + sortData;\r\n\r\n  console.log(\"_formData\", filtersData);\r\n\r\n  if (location.search) {\r\n    if (filtersData) {\r\n      const newParams = filtersSearchParams + \"&\" + sortSearchParams;\r\n      location.search = new URLSearchParams(newParams);\r\n    } else {\r\n      location.search = new URLSearchParams(\"sort_by=\" + sortData);\r\n    }\r\n  } else {\r\n    if (_this.getAttribute(\"id\") === \"sort-by-select\") {\r\n      location.search = new URLSearchParams(\"sort_by=\" + sortData);\r\n    } else {\r\n      location.search = new URLSearchParams(filtersData).toString();\r\n    }\r\n  }\r\n}\r\n\r\nfunction filterGroupHandler(e, group) {\r\n  const filterGroup = group;\r\n  const filterGroupOptions = filterGroup.querySelector(\r\n    \".filter-by-group-options\"\r\n  );\r\n\r\n  if (filterGroup.classList.contains(\"open\")) {\r\n    if (e.target.classList == filterGroup.classList) {\r\n      filterGroup.classList.remove(\"open\");\r\n      filterGroupOptions.classList.remove(\"show\");\r\n    }\r\n  } else {\r\n    filterGroup.classList.add(\"open\");\r\n    filterGroupOptions.classList.add(\"show\");\r\n  }\r\n}\r\n\r\nfunction onScroll() {\r\n  document.addEventListener(\"scroll\", function () {\r\n    addBodyScrolled();\r\n  });\r\n}\r\n\r\nfunction init() {\r\n  if (bodyWidth <= 1200) {\r\n    toggleMobileNav(\".mobile-nav-trigger\", \"add\");\r\n    toggleMobileNav(\".nav-mobile-close\", \"remove\");\r\n  }\r\n  indexHeroHeight();\r\n\r\n  const collectionFiltersFrom = document.querySelector(\r\n    \".collection-filters-form\"\r\n  );\r\n  collectionFiltersFrom.addEventListener(\"input\", function (e) {\r\n    sortFilterFormHandler(e, this);\r\n  });\r\n  collectionFiltersFrom.addEventListener(\"click\", function (e) {\r\n    if (e.target.closest(\".filter-by-group\")) {\r\n      const filterGroup = e.target.closest(\".filter-by-group\");\r\n      filterGroupHandler(e, filterGroup);\r\n    }\r\n  });\r\n\r\n  bodyPaddingTop();\r\n  addBodyScrolled();\r\n  onScroll();\r\n}\r\n\r\ninit();\r\n\r\n// TODO\r\n\r\n// static updateURLHash(searchParams) {\r\n//   history.pushState({ searchParams }, '', `${window.location.pathname}${searchParams && '?'.concat(searchParams)}`);\r\n// }\r\n\r\n// change filters from on submit to on input change\r\n// debounce\r\n// render from cache?\r\n// section rendering on paginate\r\n// make if statements that check if filter event listeners are mounted only if elements are on the page (x.length > 0 or body.data-template = x)\r\n// mobile\r\n"],"names":["_body","document","querySelector","_mainHeader","bodyWidth","offsetWidth","mainHeaderheight","offsetHeight","_selectSortBy","toggleMobileNav","button","action","addEventListener","e","preventDefault","classList","add","remove","addBodyScrolled","window","scrollY","offsetTop","bodyPaddingTop","style","paddingTop","indexHeroHeight","dataset","template","includes","height","fetchShopifySection","url","response","fetch","responseJson","json","sortFilterRenderSections","searchParams","undefined","sectionsToRender","id","shopifyId","elementsToRender","sectionsShopifyIds","section","getElementById","sectionId","push","location","pathname","htmlToRenderObject","sectionHtml","DOMParser","parseFromString","element","split","innerHTML","sortFilterFormHandler","form","formData","FormData","formSearchParams","URLSearchParams","toString","renderShopifySections","sections","urlParams","sectionsIds","shopifySectionsIdsArray","sectionid","shopifySectionsIds","join","fetchResponse","key","value","Object","entries","sectionHtmlToRender","collectionFiltersFormHandler","_form","target","currentSortValue","newSearchParams","collectionSortProductsHandler","newSortValue","existingParams","search","newParams","param","paramKey","paramValue","unshift","sortFilterHandler","_this","filtersForm","filtersData","sortData","filtersSearchParams","sortSearchParams","console","log","getAttribute","filterGroupHandler","group","filterGroup","filterGroupOptions","contains","onScroll","init","collectionFiltersFrom","closest"],"sourceRoot":""}